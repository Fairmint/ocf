{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "https://opencaptablecoalition.com/schema/types/ConversionTrigger.schema.json",
  "title": "Type - Conversion Trigger",
  "description": "Type representation of a convertible's conversion rights into a Stock Class upon an event (such as holder election or Change of Control)",
  "type": "object",
  "properties": {
    "ratio": {
      "description": "How many shares of the target Stock Class units does one unit (e.g. one dollar of a convertible note) of this convertible convert into (this can be set or changed with an event where this cannot be determined at time of issuance)",
      "$ref": "https://opencaptablecoalition.com/schema/types/Ratio.schema.json"
    },
    "rounding_type": {
      "description": "How should fractional shares of the target Stock Class be rounded?",
      "$ref": "https://opencaptablecoalition.com/schema/enums/RoundingType.schema.json"
    },
    "nickname": {
      "description": "Human-friendly nickname to describe the conversion right",
      "type": "string"
    },
    "description": {
      "description": "Legal language describiing the conversion right (ideally, this should be excerpted from the instrument where possible)",
      "type": "string"
    },
    "capitalization_definition": {
      "description": "How is capitalization defined in the convertible for the purposes of calculating company capitalization to calculate the conversion ratio?",
      "type": "string"
    },
    "converts_to_future_round": {
      "description": "Is this convertible potentially convertible into a future, as-yet undetermined Stock Class (e.g. Founder Preferred Stock)",
      "type": "boolean"
    },
    "converts_to_stock_class_id": {
      "description": "What is the id of the Stock Class this convertible can convert into?",
      "type": "string"
    }
  },
  "oneOf": [
    {
      "title": "Converts to a future round of stock (boolean)",
      "description": "Some conversion triggers let holders convert a convertible into a future round/series of stock - e.g. at the next qualified financing or some similar formulation. If this is true, such a right applies to securities using this ConversionTrigger.",
      "required": ["converts_to_future_round"]
    },
    {
      "title": "Converts to known stock class (String ID)",
      "description": "Other conversion triggers permit or require holders of a convertible to convert it into a known StockClass, such as the right to convert Preferred into Common. If this is the case, put the target StockClass' ID here.",
      "required": ["converts_to_stock_class_id"]
    }
  ],
  "required": ["rounding_type", "description"],
  "$comment": "Copyright Â© 2022 Open Cap Table Coalition (https://opencaptablecoalition.com) / Original File: https://github.com/Open-Cap-Table-Coalition/Open-Cap-Format-OCF/tree/main/schema/types/ConversionTrigger.schema.json"
}
